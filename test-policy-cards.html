<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Policy Cards Test</title>
    <style>
        :root {
            --liberal-blue: #00AEEF;
            --fascist-red: #DA291C;
            --propaganda-black: #101820;
            --neutral-beige: #D6C6A9;
            --highlight-cream: #F1E6B2;
        }
        
        body {
            margin: 0;
            padding: 20px;
            background: var(--neutral-beige);
            font-family: Arial, sans-serif;
        }
        
        .test-board {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            border: 6px solid var(--propaganda-black);
            border-radius: 12px;
            background: #f6f0df;
            padding: 20px;
        }
        
        .track {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            padding: 15px;
            border: 3px solid var(--propaganda-black);
            background: var(--neutral-beige);
            border-radius: 8px;
            margin-bottom: 20px;
            min-height: 100px;
        }
        
        .track.liberal { background: var(--liberal-blue); color: #fff; }
        .track.fascist { background: var(--fascist-red); color: #fff; }
        
        .track-title {
            font-weight: 900;
            letter-spacing: 0.04em;
            font-size: 1.2rem;
        }
        
        .slots {
            display: flex;
            gap: 8px;
            align-items: center;
            justify-content: center;
        }
        
        .track.liberal .slots { gap: 16px; }
        .track.fascist .slots { gap: 4px; }
        
        .slot {
            width: 60px;
            height: 80px;
            border: 3px solid #000;
            background: rgba(255,255,255,0.18);
            box-shadow: inset 0 0 0 3px rgba(241,230,178,0.9);
            border-radius: 4px;
            position: relative;
            overflow: hidden;
        }
        
        /* Policy card styles - this is the key fix */
        .slot .policy-card {
            position: absolute !important;
            top: 50% !important;
            left: 50% !important;
            right: auto !important;
            bottom: auto !important;
            width: 51px !important;
            height: auto !important;
            aspect-ratio: 92 / 132 !important;
            transform-origin: center center !important;
            transform: translate(-50%, -50%) rotate(-5deg) !important;
            background-size: contain !important;
            background-repeat: no-repeat !important;
            background-position: center !important;
            border: 3px solid var(--propaganda-black) !important;
            border-radius: 4px !important;
            box-shadow: 0 2px 6px rgba(0,0,0,0.25) !important;
            pointer-events: none !important;
            z-index: 2 !important;
        }
        
        .slot.filled {
            overflow: visible;
            border-color: transparent;
            box-shadow: none;
        }
        
        /* Responsive breakpoints */
        @media (max-width: 480px) {
            .slot .policy-card { 
                width: 45px !important; 
                border-width: 2px !important;
            }
        }
        @media (max-width: 360px) {
            .slot .policy-card { 
                width: 38px !important; 
                border-width: 1.5px !important;
            }
        }
        @media (max-width: 320px) {
            .slot .policy-card { 
                width: 35px !important; 
                border-width: 1px !important;
            }
        }
        @media (max-width: 280px) {
            .slot .policy-card { 
                width: 32px !important; 
                border-width: 1px !important;
            }
        }
        
        .test-info {
            background: white;
            border: 3px solid var(--propaganda-black);
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
        }
        
        .test-info h3 {
            margin-top: 0;
            color: var(--propaganda-black);
        }
        
        .test-info ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .test-info li {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="test-board">
        <h1 style="text-align: center; color: var(--propaganda-black);">Policy Cards Test</h1>
        
        <!-- Liberal Track -->
        <div class="track liberal">
            <div class="track-title">Liberal Policies</div>
            <div class="slots">
                <div class="slot filled">
                    <div class="policy-card" style="background-image: url('../images/liberal.png');"></div>
                </div>
                <div class="slot filled">
                    <div class="policy-card" style="background-image: url('../images/liberal.png');"></div>
                </div>
                <div class="slot filled">
                    <div class="policy-card" style="background-image: url('../images/liberal.png');"></div>
                </div>
                <div class="slot filled">
                    <div class="policy-card" style="background-image: url('../images/liberal.png');"></div>
                </div>
                <div class="slot filled">
                    <div class="policy-card" style="background-image: url('../images/liberal.png');"></div>
                </div>
            </div>
        </div>
        
        <!-- Fascist Track -->
        <div class="track fascist">
            <div class="track-title">Fascist Policies</div>
            <div class="slots">
                <div class="slot filled">
                    <div class="policy-card" style="background-image: url('../images/facist.png');"></div>
                </div>
                <div class="slot filled">
                    <div class="policy-card" style="background-image: url('../images/facist.png');"></div>
                </div>
                <div class="slot filled">
                    <div class="policy-card" style="background-image: url('../images/facist.png');"></div>
                </div>
                <div class="slot filled">
                    <div class="policy-card" style="background-image: url('../images/facist.png');"></div>
                </div>
                <div class="slot filled">
                    <div class="policy-card" style="background-image: url('../images/facist.png');"></div>
                </div>
                <div class="slot filled">
                    <div class="policy-card" style="background-image: url('../images/facist.png');"></div>
                </div>
            </div>
        </div>
        
        <div class="test-info">
            <h3>What This Test Shows:</h3>
            <ul>
                <li><strong>Base size:</strong> 51px width policy cards</li>
                <li><strong>Responsive:</strong> Scales down on narrow devices</li>
                <li><strong>Images:</strong> Should show bird (liberal) and skull (fascist) clearly</li>
                <li><strong>Positioning:</strong> Centered and rotated -5 degrees</li>
                <li><strong>No transparency:</strong> Cards should be fully visible</li>
            </ul>
            
            <h3>Expected Behavior:</h3>
            <ul>
                <li>Blue cards with white bird icons (liberal)</li>
                <li>Red cards with white skull icons (fascist)</li>
                <li>Cards properly sized and visible</li>
                <li>Responsive sizing on narrow screens</li>
            </ul>
        </div>
    </div>
    
    <script>
        // Test if images are loading
        window.addEventListener('load', function() {
            const cards = document.querySelectorAll('.policy-card');
            let loadedCount = 0;
            
            cards.forEach((card, index) => {
                const img = new Image();
                img.onload = function() {
                    loadedCount++;
                    console.log(`Card ${index + 1} image loaded successfully`);
                    if (loadedCount === cards.length) {
                        console.log('All policy card images loaded successfully!');
                    }
                };
                img.onerror = function() {
                    console.error(`Card ${index + 1} image failed to load`);
                };
                
                const bgImage = card.style.backgroundImage;
                if (bgImage) {
                    const url = bgImage.replace(/url\(['"]?(.*?)['"]?\)/, '$1');
                    img.src = url;
                }
            });
        });
    </script>
</body>
</html>
